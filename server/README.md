# ๐ Reels to Telegram Server v3.0 (Advanced Queue System)

ะะตะฒะพะปััะธะพะฝะฝัะน Node.js ัะตัะฒะตั ั **ะฟัะพะดะฒะธะฝััะพะน ัะธััะตะผะพะน ะพัะตัะตะดะตะน** ะดะปั ัะฐะฑะพัั ั Chrome ัะฐััะธัะตะฝะธะตะผ Instagram Reels to Telegram.

## ๐ ะะตะฒะพะปััะธะพะฝะฝัะต ะฒะพะทะผะพะถะฝะพััะธ v3.0

### โก **ะัะพะดะฒะธะฝััะฐั ัะธััะตะผะฐ ะพัะตัะตะดะตะน:**
- ๐ **ะะฐัะฐะปะปะตะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ** - ะดะพ 3 ะฒะธะดะตะพ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ (ะฝะฐัััะฐะธะฒะฐะตััั)
- ๐ **Live-ะผะพะฝะธัะพัะธะฝะณ** ะฟัะพะณัะตััะฐ ะบะฐะถะดะพะน ะทะฐะดะฐัะธ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
- ๐ฏ **ะฃะผะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต ะพัะตัะตะดัั** - ะฐะฒัะพะพัะธััะบะฐ, ะฟัะธะพัะธัะธะทะฐัะธั, ะพัะผะตะฝะฐ
- ๐ **ะะฐัััะฐะฑะธััะตะผะพััั** - ะปะตะณะบะพ ัะฒะตะปะธัะธัั ะบะพะปะธัะตััะฒะพ ะฒะพัะบะตัะพะฒ

### ๐ก๏ธ **ะัะบะฐะทะพัััะพะนัะธะฒะพััั ะธ ะฝะฐะดะตะถะฝะพััั:**
- ๐ **ะะทะพะปััะธั ะทะฐะดะฐั** - ะพัะธะฑะบะฐ ะพะดะฝะพะณะพ ะฒะธะดะตะพ ะฝะต ะฒะปะธัะตั ะฝะฐ ะดััะณะธะต
- ๐ **Retry-ะผะตัะฐะฝะธะทะผ** ั ัะบัะฟะพะฝะตะฝัะธะฐะปัะฝะพะน ะทะฐะดะตัะถะบะพะน
- ๐งน **ะะฒัะพะพัะธััะบะฐ** ะทะฐะฒะตััะตะฝะฝัั ะทะฐะดะฐั ะธ ะฒัะตะผะตะฝะฝัั ัะฐะนะปะพะฒ
- ๐ **ะะพะฝะธัะพัะธะฝะณ ะทะดะพัะพะฒัั** ัะธััะตะผั ะธ ะพัะตัะตะดะตะน

### ๐ **RESTful API ะดะปั ะพัะตัะตะดะตะน:**
- ๐ก **ะะพะปะฝัะน CRUD** ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ
- ๐ **ะกัะฐัะธััะธะบะฐ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ** - ะพัะตัะตะดั, ะฒะพัะบะตัั, ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
- ๐ง **ะะธะฑะบะฐั ะฝะฐัััะพะนะบะฐ** ะฒัะตั ะฟะฐัะฐะผะตััะพะฒ ะพัะตัะตะดะธ
- ๐ **ะะตััะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ** ะธ ะฐะฝะฐะปะธัะธะบะฐ

### ๐ค **ะะฝัะตะปะปะตะบััะฐะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ:**
- ๐ฏ **ะะฟัะธะผะธะทะฐัะธั ะฟะพััะดะบะฐ** ะพะฑัะฐะฑะพัะบะธ ะทะฐะดะฐั
- ๐พ **ะญััะตะบัะธะฒะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟะฐะผััะธ** ะธ ัะตััััะพะฒ
- โฑ๏ธ **ะขะฐะนะผะฐััั ะธ ะปะธะผะธัั** ะดะปั ะฟัะตะดะพัะฒัะฐัะตะฝะธั ะทะฐะฒะธัะฐะฝะธะน
- ๐ **ะะตัะฐะปัะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต** ะฒัะตั ะพะฟะตัะฐัะธะน ะพัะตัะตะดะธ

## ๐๏ธ ะััะธัะตะบัััะฐ ัะธััะตะผั ะพัะตัะตะดะตะน

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    REQUEST HANDLER                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  POST /api/download-video โ ะะณะฝะพะฒะตะฝะฝะพะต ะดะพะฑะฐะฒะปะตะฝะธะต ะฒ ะพัะตัะตะดั โ
โ  GET  /api/job/:id       โ ะกัะฐััั ะบะพะฝะบัะตัะฝะพะน ะทะฐะดะฐัะธ      โ
โ  DELETE /api/job/:id     โ ะัะผะตะฝะฐ ะทะฐะดะฐัะธ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    VIDEO QUEUE                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ฅ QUEUED    โ  ๐ PROCESSING  โ  โ COMPLETED         โ
โ  Task 1       โ  Task 4         โ  Task 7               โ
โ  Task 2       โ  Task 5         โ  Task 8               โ
โ  Task 3       โ  Task 6         โ  Task 9               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  WORKER POOL                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Worker 1     โ  Worker 2       โ  Worker 3             โ
โ  yt-dlp       โ  yt-dlp         โ  yt-dlp               โ
โ  + Telegram   โ  + Telegram     โ  + Telegram           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐๏ธ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ v3.0

```
reels-to-telegram-server-v3/
โโโ server.js              # ะัะฝะพะฒะฝะพะน ัะตัะฒะตั ั ัะธััะตะผะพะน ะพัะตัะตะดะตะน
โโโ video-queue.js         # ะะปะฐัั VideoQueue (ะฒัััะพะตะฝ ะฒ server.js)
โโโ setup.js               # ะกะบัะธะฟั ะฝะฐัััะพะนะบะธ ั ะพะฟัะธัะผะธ ะพัะตัะตะดะตะน
โโโ package.json           # ะะฑะฝะพะฒะปะตะฝะฝัะต ะทะฐะฒะธัะธะผะพััะธ v3.0
โโโ .env.example           # ะะพะฝัะธะณ ั ะฟะฐัะฐะผะตััะฐะผะธ ะพัะตัะตะดะตะน
โโโ cookies.txt            # Cookies ะดะปั yt-dlp
โโโ temp/                  # ะัะตะผะตะฝะฝัะต ัะฐะนะปั (ะฐะฒัะพะพัะธััะบะฐ)
โโโ logs/                  # ะะพะณะธ ะพัะตัะตะดะตะน (ะฟะปะฐะฝะธััะตััั)
โโโ docs/                  # ะะพะบัะผะตะฝัะฐัะธั API v3.0
    โโโ queue-api.md       # ะะพะบัะผะตะฝัะฐัะธั API ะพัะตัะตะดะตะน
    โโโ monitoring.md      # ะัะบะพะฒะพะดััะฒะพ ะฟะพ ะผะพะฝะธัะพัะธะฝะณั
    โโโ scaling.md         # ะัะบะพะฒะพะดััะฒะพ ะฟะพ ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธั
```

## ๐ ะัััััะน ััะฐัั

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
# ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/revoulce/reels-to-telegram.git
cd reels-to-telegram/server

# ะฃััะฐะฝะพะฒะธัะต Node.js ะทะฐะฒะธัะธะผะพััะธ
npm install

# ะฃััะฐะฝะพะฒะธัะต yt-dlp
pip install yt-dlp
# ะธะปะธ
brew install yt-dlp  # macOS
# ะธะปะธ
sudo apt install yt-dlp  # Ubuntu/Debian
```

### 2. ะะฒัะพะผะฐัะธัะตัะบะฐั ะฝะฐัััะพะนะบะฐ ั ะพัะตัะตะดัะผะธ

```bash
npm run setup
```

ะกะบัะธะฟั setup v3.0 ะฝะฐัััะพะธั:
- โ ะัะต ะฑะฐะทะพะฒัะต ะฟะฐัะฐะผะตััั (ะบะฐะบ ะฒ v2.1)
- โก **ะะฐัััะพะนะบะธ ะพัะตัะตะดะตะน** - ะบะพะปะธัะตััะฒะพ ะฒะพัะบะตัะพะฒ, ัะฐะทะผะตั ะพัะตัะตะดะธ
- ๐ **ะะพะฝะธัะพัะธะฝะณ** - ะฒะบะปััะตะฝะธะต ััะฐัะธััะธะบะธ ะธ ะปะพะณะธัะพะฒะฐะฝะธั
- ๐ง **ะะฟัะธะผะธะทะฐัะธั** - ะฟะฐัะฐะผะตััั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

### 3. ะะฐะฟััะบ ั ัะธััะตะผะพะน ะพัะตัะตะดะตะน

```bash
# ะัะพะดะฐะบัะฝ ัะตะถะธะผ ั ะพัะตัะตะดัะผะธ
npm start

# ะะตะถะธะผ ัะฐะทัะฐะฑะพัะบะธ ั ะดะตัะฐะปัะฝัะผะธ ะปะพะณะฐะผะธ ะพัะตัะตะดะตะน
npm run dev

# ะะพะฝะธัะพัะธะฝะณ ััะฐัััะฐ ะพัะตัะตะดะธ
npm run queue-status
```

## โ๏ธ ะะพะฝัะธะณััะฐัะธั ะพัะตัะตะดะตะน

### Environment Variables (.env) v3.0

```bash
# ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ (ะบะฐะบ ัะฐะฝััะต)
PORT=3000
NODE_ENV=production
BOT_TOKEN=your_bot_token
CHANNEL_ID=@your_channel
API_KEY=your-64-char-api-key

# === ะะะะซะ ะะะกะขะะะะะ ะะงะะะะะะ ===

# ะะฐัะฐะปะปะตะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ
MAX_CONCURRENT_DOWNLOADS=3    # ะะฐะบัะธะผัะผ ะพะดะฝะพะฒัะตะผะตะฝะฝัั ะทะฐะณััะทะพะบ
MAX_QUEUE_SIZE=50            # ะะฐะบัะธะผัะผ ะทะฐะดะฐั ะฒ ะพัะตัะตะดะธ
QUEUE_TIMEOUT=600000         # ะขะฐะนะผะฐัั ะพะฑัะฐะฑะพัะบะธ ะพะดะฝะพะน ะทะฐะดะฐัะธ (10 ะผะธะฝ)

# ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
WORKER_SPAWN_DELAY=1000      # ะะฐะดะตัะถะบะฐ ะผะตะถะดั ะทะฐะฟััะบะพะผ ะฒะพัะบะตัะพะฒ (ะผั)
QUEUE_POLL_INTERVAL=2000     # ะะฝัะตัะฒะฐะป ะฟัะพะฒะตัะบะธ ะพัะตัะตะดะธ (ะผั)
AUTO_CLEANUP_INTERVAL=300000 # ะะฝัะตัะฒะฐะป ะฐะฒัะพะพัะธััะบะธ (5 ะผะธะฝ)

# ะะณัะฐะฝะธัะตะฝะธั ัะตััััะพะฒ
MAX_MEMORY_USAGE=1024        # ะะธะผะธั ะฟะฐะผััะธ ะฒ MB (ะฝะฐ ะฒะพัะบะตั)
MAX_CPU_USAGE=80            # ะะธะผะธั CPU ะฒ % (ะพะฑัะธะน)
DISK_SPACE_MIN=1024         # ะะธะฝะธะผัะผ ัะฒะพะฑะพะดะฝะพะณะพ ะผะตััะฐ ะฒ MB

# ะะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต
ENABLE_QUEUE_LOGGING=true    # ะะตัะฐะปัะฝัะต ะปะพะณะธ ะพัะตัะตะดะธ
ENABLE_PERFORMANCE_METRICS=true  # ะะตััะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
LOG_LEVEL=info              # debug | info | warn | error

# Redis ะดะปั ะบะปะฐััะตัะฐ (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะดะปั ะฑัะดััะธั ะฒะตััะธะน)
# REDIS_URL=redis://localhost:6379
# ENABLE_REDIS_QUEUE=false
```

## ๐ก API Endpoints v3.0

### ะฃะฟัะฐะฒะปะตะฝะธะต ะพัะตัะตะดัะผะธ

#### ๐ฅ ะะพะฑะฐะฒะธัั ะฒะธะดะตะพ ะฒ ะพัะตัะตะดั
```http
POST /api/download-video
Headers: X-API-Key: your-api-key
Content-Type: application/json

{
  "videoUrl": "blob:https://www.instagram.com/...",
  "pageUrl": "https://www.instagram.com/reels/xyz/",
  "timestamp": "2024-01-01T00:00:00.000Z"
}
```

**ะัะฒะตั:**
```json
{
  "success": true,
  "jobId": "550e8400-e29b-41d4-a716-446655440000",
  "message": "Video added to processing queue",
  "queuePosition": 3,
  "estimatedWaitTime": 90,
  "priority": "normal"
}
```

#### ๐ ะกัะฐััั ะบะพะฝะบัะตัะฝะพะน ะทะฐะดะฐัะธ
```http
GET /api/job/:jobId
Headers: X-API-Key: your-api-key
```

**ะัะฒะตั:**
```json
{
  "jobId": "550e8400-e29b-41d4-a716-446655440000",
  "status": "processing",
  "progress": 65,
  "progressMessage": "Sending to Telegram...",
  "addedAt": "2024-01-01T00:00:00.000Z",
  "startedAt": "2024-01-01T00:01:00.000Z",
  "estimatedTimeLeft": 30,
  "workerName": "worker-2",
  "videoData": {
    "pageUrl": "https://www.instagram.com/reels/xyz/",
    "title": "Video title",
    "author": "username"
  }
}
```

#### โ ะัะผะตะฝะธัั ะทะฐะดะฐัั
```http
DELETE /api/job/:jobId
Headers: X-API-Key: your-api-key
```

**ะัะฒะตั:**
```json
{
  "success": true,
  "message": "Job cancelled successfully",
  "wasProcessing": false
}
```

### ะะพะฝะธัะพัะธะฝะณ ะพัะตัะตะดะตะน

#### ๐ ะกัะฐัะธััะธะบะฐ ะพัะตัะตะดะธ
```http
GET /api/queue/stats
Headers: X-API-Key: your-api-key
```

**ะัะฒะตั:**
```json
{
  "queued": 5,
  "processing": 2,
  "completed": 127,
  "failed": 8,
  "cancelled": 3,
  "activeWorkers": 2,
  "maxWorkers": 3,
  "maxQueueSize": 50,
  "averageProcessingTime": 45.2,
  "throughputPerHour": 78,
  "memoryUsage": {
    "used": 156,
    "total": 512,
    "percentage": 30
  },
  "config": {
    "maxConcurrentDownloads": 3,
    "maxQueueSize": 50,
    "queueTimeout": 10
  }
}
```

#### ๐ ะกะฟะธัะพะบ ะฒัะตั ะทะฐะดะฐั
```http
GET /api/queue/jobs?limit=50&offset=0&status=all
Headers: X-API-Key: your-api-key
```

**ะัะฒะตั:**
```json
{
  "jobs": [
    {
      "jobId": "...",
      "status": "processing",
      "progress": 80,
      "addedAt": "2024-01-01T00:00:00.000Z",
      "pageUrl": "https://www.instagram.com/reels/xyz/",
      "workerName": "worker-1"
    }
  ],
  "pagination": {
    "total": 135,
    "limit": 50,
    "offset": 0,
    "hasMore": true
  }
}
```

### ะฃะฟัะฐะฒะปะตะฝะธะต ะฒะพัะบะตัะฐะผะธ

#### ๐ง ะฃะฟัะฐะฒะปะตะฝะธะต ะฒะพัะบะตัะฐะผะธ (ะะะะะ!)
```http
POST /api/workers/scale
Headers: X-API-Key: your-api-key

{
  "workerCount": 5  // ะะทะผะตะฝะธัั ะบะพะปะธัะตััะฒะพ ะฒะพัะบะตัะพะฒ
}
```

#### ๐ ะะตัะตะทะฐะฟััะบ ะฒะพัะบะตัะพะฒ
```http
POST /api/workers/restart
Headers: X-API-Key: your-api-key
```

#### ๐ ะกัะฐัะธััะธะบะฐ ะฒะพัะบะตัะพะฒ
```http
GET /api/workers/stats
Headers: X-API-Key: your-api-key
```

### ะัะพะดะฒะธะฝััะฐั ะฐะฝะฐะปะธัะธะบะฐ

#### ๐ ะะตััะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
```http
GET /api/metrics/performance
Headers: X-API-Key: your-api-key
```

**ะัะฒะตั:**
```json
{
  "lastHour": {
    "completed": 45,
    "failed": 2,
    "averageTime": 42.5,
    "throughput": 45
  },
  "last24Hours": {
    "completed": 1080,
    "failed": 12,
    "averageTime": 38.7,
    "peakHour": "14:00-15:00"
  },
  "systemHealth": {
    "cpuUsage": 45,
    "memoryUsage": 62,
    "diskSpace": 78,
    "status": "healthy"
  }
}
```

## ๐ ะะฝัะตะณัะฐัะธั ั ัะฐััะธัะตะฝะธะตะผ v3.0

### ะะฐัััะพะนะบะธ ัะฐััะธัะตะฝะธั:
- **Server URL:** `http://localhost:3000`
- **API Key:** ะะท ะฒะฐัะตะณะพ `.env` ัะฐะนะปะฐ
- **Queue Monitoring:** ะะฒัะพะผะฐัะธัะตัะบะธ ะฒะบะปััะฐะตััั

### ะัะพัะตัั ัะฐะฑะพัั ั ะพัะตัะตะดัะผะธ:
1. ๐ฑ ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐะถะธะผะฐะตั Send ะฝะฐ ะผะฝะพะถะตััะฒะต ะฒะธะดะตะพ
2. ๐ฅ ะะฐััะธัะตะฝะธะต **ะผะณะฝะพะฒะตะฝะฝะพ** ะดะพะฑะฐะฒะปัะตั ะบะฐะถะดะพะต ะฒ ะพัะตัะตะดั
3. ๐ฏ ะะพะปััะฐะตั **jobId** ะธ ะฟะพะทะธัะธั ะฒ ะพัะตัะตะดะธ
4. ๐ **ะะฐัะฐะปะปะตะปัะฝะพ** ะดะพ 3 ะฒะพัะบะตัะพะฒ ะพะฑัะฐะฑะฐััะฒะฐัั ะทะฐะดะฐัะธ
5. ๐ ะะฐััะธัะตะฝะธะต **ะพััะปะตะถะธะฒะฐะตั ะฟัะพะณัะตัั** ะบะฐะถะดะพะน ะทะฐะดะฐัะธ
6. ๐บ ะัะฑะปะธะบะฐัะธั ะฒ Telegram ั ะผะตัะฐะดะฐะฝะฝัะผะธ ะพะฑ ะพัะตัะตะดะธ

### ะะพะฒัะต ะฒะพะทะผะพะถะฝะพััะธ ะดะปั ัะฐััะธัะตะฝะธั:
- **Live-ะพะฑะฝะพะฒะปะตะฝะธั** ััะฐัััะฐ ัะตัะตะท polling
- **ะัะผะตะฝะฐ ะทะฐะดะฐั** ะดะพ/ะฒะพ ะฒัะตะผั ะพะฑัะฐะฑะพัะบะธ
- **ะัะธะพัะธัะตัะฝะฐั ะพัะตัะตะดั** ะดะปั ะฒะฐะถะฝัั ะฒะธะดะตะพ (ะฟะปะฐะฝะธััะตััั)
- **ะััะปะฐะนะฝ-ัะตะถะธะผ** ั ัะธะฝััะพะฝะธะทะฐัะธะตะน (ะฟะปะฐะฝะธััะตััั)

## ๐๏ธ ะกะบัะธะฟัั v3.0

```bash
# ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั
npm start              # ะะฐะฟััะบ ัะตัะฒะตัะฐ ั ะพัะตัะตะดัะผะธ
npm run dev            # ะะฐะทัะฐะฑะพัะบะฐ ั ะดะตัะฐะปัะฝัะผะธ ะปะพะณะฐะผะธ
npm run setup          # ะะฐัััะพะนะบะฐ ั ะพะฟัะธัะผะธ ะพัะตัะตะดะตะน

# ะฃะฟัะฐะฒะปะตะฝะธะต ะพัะตัะตะดัะผะธ
npm run queue-status   # ะกัะฐััั ะพัะตัะตะดะธ
npm run queue-clear    # ะัะธััะบะฐ ะพัะตัะตะดะธ (ะฟะปะฐะฝะธััะตััั)
npm run queue-pause    # ะะฐัะทะฐ ะพัะตัะตะดะธ (ะฟะปะฐะฝะธััะตััั)
npm run queue-resume   # ะะพะทะพะฑะฝะพะฒะปะตะฝะธะต ะพัะตัะตะดะธ (ะฟะปะฐะฝะธััะตััั)

# ะะฑัะปัะถะธะฒะฐะฝะธะต
npm run clean          # ะัะธััะบะฐ ะฒัะตะผะตะฝะฝัั ัะฐะนะปะพะฒ
npm run health-check   # ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั ัะธััะตะผั
npm run metrics        # ะะพะบะฐะทะฐัั ะผะตััะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

# ะะธะฐะณะฝะพััะธะบะฐ
npm run debug-queue    # ะะตัะฐะปัะฝะฐั ะดะธะฐะณะฝะพััะธะบะฐ ะพัะตัะตะดะธ
npm run worker-stats   # ะกัะฐัะธััะธะบะฐ ะฒะพัะบะตัะพะฒ
npm run memory-report  # ะััะตั ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฟะฐะผััะธ
```

## ๐งน ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑัะปัะถะธะฒะฐะฝะธะต

### ะะฒัะพะพัะธััะบะฐ v3.0:
- ๐ **ะะฐะถะดัะต 5 ะผะธะฝัั** ัะดะฐะปััััั ะทะฐะฟะธัะธ ะพ ะทะฐะฒะตััะตะฝะฝัั ะทะฐะดะฐัะฐั ััะฐััะต 1 ัะฐัะฐ
- ๐ **ะะฐะถะดัะต 30 ะผะธะฝัั** ัะดะฐะปััััั ะฒัะตะผะตะฝะฝัะต ัะฐะนะปั ััะฐััะต 1 ัะฐัะฐ
- ๐ **ะะฐะถะดัะน ัะฐั** ัะถะธะผะฐัััั ะปะพะณะธ ะธ ะพัะฒะพะฑะพะถะดะฐะตััั ะฟะฐะผััั
- ๐ **ะะฐะถะดัะต 24 ัะฐัะฐ** ะณะตะฝะตัะธััะตััั ะพััะตั ะฟะพ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

### ะะพะฝะธัะพัะธะฝะณ ะทะดะพัะพะฒัั:
- ๐ **CPU ะธ ะฟะฐะผััั** - ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะฝะธะถะตะฝะธะต ะฝะฐะณััะทะบะธ ะฟัะธ ะฟัะตะฒััะตะฝะธะธ ะปะธะผะธัะพะฒ
- ๐พ **ะะธัะบะพะฒะพะต ะฟัะพัััะฐะฝััะฒะพ** - ะฟัะตะดัะฟัะตะถะดะตะฝะธั ะฟัะธ ะฝะตัะฒะฐัะบะต ะผะตััะฐ
- ๐ **ะกะตัะตะฒัะต ะพัะธะฑะบะธ** - ะฐะฒัะพะผะฐัะธัะตัะบะธะต ะฟะพะฒัะพัั ั ัะบัะฟะพะฝะตะฝัะธะฐะปัะฝะพะน ะทะฐะดะตัะถะบะพะน
- ๐ **ะะฐะฒะธััะธะต ะฒะพัะบะตัั** - ะฐะฒัะพะผะฐัะธัะตัะบะธะน ะฟะตัะตะทะฐะฟััะบ ะฟัะธ ัะฐะนะผะฐััะต

### ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ v3.0

**ะัะตัะตะดั ะฟะตัะตะฟะพะปะฝะตะฝะฐ:**
```bash
# ะฃะฒะตะปะธัะธัั ัะฐะทะผะตั ะพัะตัะตะดะธ
echo "MAX_QUEUE_SIZE=100" >> .env
npm restart

# ะะปะธ ะดะพะฑะฐะฒะธัั ะฒะพัะบะตัะพะฒ
echo "MAX_CONCURRENT_DOWNLOADS=5" >> .env
npm restart
```

**ะะพัะบะตัั ะทะฐะฒะธัะฐัั:**
```bash
# ะัะพะฒะตัะธัั ััะฐััั ะฒะพัะบะตัะพะฒ
curl -H "X-API-Key: your-key" http://localhost:3000/api/workers/stats

# ะะตัะตะทะฐะฟัััะธัั ะฒะพัะบะตัั
curl -X POST -H "X-API-Key: your-key" http://localhost:3000/api/workers/restart
```

**ะััะพะบะพะต ะฟะพััะตะฑะปะตะฝะธะต ะฟะฐะผััะธ:**
```bash
# ะฃะผะตะฝััะธัั ะบะพะปะธัะตััะฒะพ ะฒะพัะบะตัะพะฒ
echo "MAX_CONCURRENT_DOWNLOADS=2" >> .env

# ะะพะฑะฐะฒะธัั ะปะธะผะธั ะฟะฐะผััะธ
echo "MAX_MEMORY_USAGE=512" >> .env
npm restart
```

**ะะธะทะบะฐั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั:**
```bash
# ะัะพะฒะตัะธัั ะผะตััะธะบะธ
curl -H "X-API-Key: your-key" http://localhost:3000/api/metrics/performance

# ะะฟัะธะผะธะทะธัะพะฒะฐัั ะฝะฐัััะพะนะบะธ
echo "WORKER_SPAWN_DELAY=500" >> .env
echo "QUEUE_POLL_INTERVAL=1000" >> .env
npm restart
```

## ๐ ะะพะฝะธัะพัะธะฝะณ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

### ะะปััะตะฒัะต ะผะตััะธะบะธ:
- **Throughput** - ะฒะธะดะตะพ ะฒ ัะฐั
- **Average processing time** - ััะตะดะฝะตะต ะฒัะตะผั ะพะฑัะฐะฑะพัะบะธ
- **Queue wait time** - ะฒัะตะผั ะพะถะธะดะฐะฝะธั ะฒ ะพัะตัะตะดะธ
- **Success rate** - ะฟัะพัะตะฝั ััะฟะตัะฝัั ะพะฑัะฐะฑะพัะพะบ
- **Resource utilization** - ะธัะฟะพะปัะทะพะฒะฐะฝะธะต CPU/ะฟะฐะผััะธ

### ะะพะณะธัะพะฒะฐะฝะธะต ะพัะตัะตะดะธ:
```
๐ Server running with queue system (3 workers, queue size: 50)
๐ฅ Job abc123 added to queue (position: 3, estimated wait: 90s)
๐ Worker-1 processing job abc123 (1/3 active)
๐ Job abc123 progress: 30% - Downloading video...
๐ Job abc123 progress: 80% - Sending to Telegram...
โ Job abc123 completed in 45.2s (queue: 2, processed: 127)
๐งน Cleaned 5 old job records and 3 temp files
๐ Hourly stats: 78 videos processed, 96.2% success rate
```

## ๐ฏ Roadmap ัะตัะฒะตัะฐ v3.x

### v3.1 (ะฟะปะฐะฝะธััะตััั)
- [ ] ๐ **WebSocket ะฟะพะดะดะตัะถะบะฐ** ะดะปั ะผะณะฝะพะฒะตะฝะฝัั ะพะฑะฝะพะฒะปะตะฝะธะน
- [ ] ๐ **Web-dashboard** ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ ะพัะตัะตะดะตะน
- [ ] ๐ **ะะปะฐััะตัะฝัะน ัะตะถะธะผ** ั Redis
- [ ] ๐ค **ะะ-ะพะฟัะธะผะธะทะฐัะธั** ะฟะพััะดะบะฐ ะพะฑัะฐะฑะพัะบะธ

### v3.2 (ะฟะปะฐะฝะธััะตััั)
- [ ] ๐ **ะัะธะพัะธัะตัะฝัะต ะพัะตัะตะดะธ** ะดะปั VIP-ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- [ ] ๐ **ะะฐัะฟัะตะดะตะปะตะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ** ะฝะฐ ะฝะตัะบะพะปัะบะพ ัะตัะฒะตัะพะฒ
- [ ] ๐ฑ **Push-ัะฒะตะดะพะผะปะตะฝะธั** ะพ ััะฐัััะต ะทะฐะดะฐั
- [ ] ๐๏ธ **ะะดะผะธะฝ-ะฟะฐะฝะตะปั** ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะพัะตัะตะดัะผะธ

### v3.3 (ะฟะปะฐะฝะธััะตััั)
- [ ] ๐ง **ะะฐัะธะฝะฝะพะต ะพะฑััะตะฝะธะต** ะดะปั ะฟัะตะดัะบะฐะทะฐะฝะธั ะฒัะตะผะตะฝะธ ะพะฑัะฐะฑะพัะบะธ
- [ ] ๐ **API Gateway** ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฝะฐะณััะทะบะพะน
- [ ] ๐ **Advanced Analytics** ั ะดะฐัะฑะพัะดะฐะผะธ
- [ ] ๐ **ะะฝะพะณะพะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ัะตะถะธะผ** ั ะธะทะพะปััะธะตะน

## ๐ค Contributing v3.0

ะัะพะฑะตะฝะฝะพ ะฟัะธะฒะตัััะฒัะตะผ ะฟะพะผะพัั ะฒ ัะฐะทะฒะธัะธะธ ัะธััะตะผั ะพัะตัะตะดะตะน!

### ะัะธะพัะธัะตัะฝัะต ะพะฑะปะฐััะธ:
1. ๐ **ะะฟัะธะผะธะทะฐัะธั ะฐะปะณะพัะธัะผะพะฒ ะพัะตัะตะดะตะน**
2. ๐ **ะะฐััะธัะตะฝะธะต ะผะตััะธะบ ะธ ะฐะฝะฐะปะธัะธะบะธ**
3. ๐ก๏ธ **ะฃะปัััะตะฝะธะต ะพัะบะฐะทะพัััะพะนัะธะฒะพััะธ**
4. ๐ **ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต ะธ ะบะปะฐััะตัะธะทะฐัะธั**

## ๐ ะกัะฐะฒะฝะตะฝะธะต ั ะฟัะตะดัะดััะธะผะธ ะฒะตััะธัะผะธ

| ะคัะฝะบัะธั | v2.1 | v3.0 | ะฃะปัััะตะฝะธะต |
|---------|------|------|-----------|
| ะะฑัะฐะฑะพัะบะฐ ะฒะธะดะตะพ | ๐ ะะพัะปะตะดะพะฒะฐัะตะปัะฝะฐั | โก ะะฐัะฐะปะปะตะปัะฝะฐั | 3x ะฑััััะตะต |
| ะะพะปัะทะพะฒะฐัะตะปััะบะธะน ะพะฟัั | โณ ะะถะธะดะฐะฝะธะต | ๐ ะะณะฝะพะฒะตะฝะฝะพ | 100% |
| ะัะบะฐะทะพัััะพะนัะธะฒะพััั | โ๏ธ ะะปะพะบะธัะพะฒะบะฐ ะฟัะธ ะพัะธะฑะบะต | ๐ก๏ธ ะะทะพะปััะธั ะทะฐะดะฐั | ะััะพะบะฐั |
| ะะพะฝะธัะพัะธะฝะณ | ๐ ะะฐะทะพะฒัะน | ๐ ะัะพะดะฒะธะฝัััะน | ะะพะปะฝะฐั ะฒะธะดะธะผะพััั |
| API | ๐ง ะัะพััะพะน | ๐ RESTful | ะะพะณะฐััะน ััะฝะบัะธะพะฝะฐะป |
| ะะฐัััะฐะฑะธััะตะผะพััั | ๐ ะะณัะฐะฝะธัะตะฝะฝะฐั | ๐ ะััะพะบะฐั | ะะตะณะบะพ ะผะฐัััะฐะฑะธััะตััั |

## ๐ ะะพะดะดะตัะถะบะฐ v3.0

- ๐ **Issues ั ะพัะตัะตะดัะผะธ:** ะกะพะทะดะฐะฒะฐะนัะต ั ัะตะณะพะผ `queue`
- ๐ **ะัะพะฑะปะตะผั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ:** ะขะตะณ `performance`
- ๐ง **API ะฒะพะฟัะพัั:** ะขะตะณ `api`
- ๐ฌ **ะะฑัะธะต ะฒะพะฟัะพัั:** Discussions

## ๐ ะะธัะตะฝะทะธั

MIT License - ะธัะฟะพะปัะทัะนัะต ัะฒะพะฑะพะดะฝะพ ะดะปั ะปะธัะฝัั ะธ ะบะพะผะผะตััะตัะบะธั ะฟัะพะตะบัะพะฒ.

---

**๐ ะะตะฒะพะปััะธั ะฒ ะพะฑัะฐะฑะพัะบะต Instagram ะฒะธะดะตะพ ั ะฟัะพะดะฒะธะฝัััะผะธ ะพัะตัะตะดัะผะธ! ๐**

**ะกะตัะฒะตั v3.0 - ะผะพัะฝะพััั, ะฝะฐะดะตะถะฝะพััั, ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั!**

ะกะดะตะปะฐะฝะพ ั โค๏ธ ะธ ะฟะตัะตะดะพะฒัะผะธ ัะตัะฝะพะปะพะณะธัะผะธ ะพัะตัะตะดะตะน ะดะปั ะผะฐะบัะธะผะฐะปัะฝะพะน ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ!